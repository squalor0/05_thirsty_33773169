<!doctype html>
<html>
  <head>
    <title><%= shopName %> â€” Survey</title>
    <link rel="stylesheet" href="/css/styles.css">
  </head>
  <body>
    <div class="container">
      <header class="header">
        <div class="brand"><%= shopName %></div>
        <nav class="nav">
          <a href="/">Home</a>
          <a href="/about">About</a>
          <a href="/search">Search</a>
          <a href="/register">Register</a>
          <a href="/survey">Survey</a>
        </nav>
      </header>

      <h1>Customer Survey</h1>
      <p>Please tell us a bit about yourself and your preferences.</p>

      <form method="POST" action="/survey_submitted" class="form-grid">
        <!-- Customer details -->
        <label for="first">First name:</label>
        <input id="first" type="text" name="first" required />

        <label for="last">Surname:</label>
        <input id="last" type="text" name="last" required />

        <label for="email">Email address:</label>
        <input
          id="email"
          type="email"
          name="email"
          required
          pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$"
          title="Please enter a valid email address (e.g. name@example.com)"
          class="span-3"
        />

        <!-- Questions -->
        <label for="age">How old are you?</label>
        <input
          id="age"
          type="text"
          name="age"
          required
          pattern="^[0-9]{1,3}$"
          title="Please enter your age in years (numbers only)"
        />

        <label class="full">Which of the following drinks categories do you consume?</label>
        <div class="full">
          <% productCategories.forEach(function(cat, i) { %>
            <div style="margin: 6px 0;">
              <input
                type="radio"
                id="cat-<%= i %>"
                name="category"
                value="<%= cat %>"
                required
              />
              <label for="cat-<%= i %>"><%= cat %></label>
            </div>
          <% }) %>
        </div>

        <label class="full">Are you a student?</label>
        <div class="full">
          <input type="checkbox" id="student" name="student" />
          <label for="student">Yes</label>
        </div>

        <input type="submit" value="Submit Survey" class="full" />
      </form>
    </div>
  </body>
</html>
